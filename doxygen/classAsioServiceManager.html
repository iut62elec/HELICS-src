<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>helics: AsioServiceManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_doxygen_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="HELICS_48x48.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">helics
   &#160;<span id="projectnumber">1.0.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classAsioServiceManager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AsioServiceManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="AsioServiceManager_8h_source.html">AsioServiceManager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a24fd72613b0ba2a935a2ff62021ba03d"><td class="memItemLeft" align="right" valign="top"><a id="a24fd72613b0ba2a935a2ff62021ba03d"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>LoopHandle</b> = std::unique_ptr&lt; servicer &gt;</td></tr>
<tr class="separator:a24fd72613b0ba2a935a2ff62021ba03d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac4c4e9952e4113901f207c54cd9b19ae"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsioServiceManager.html#ac4c4e9952e4113901f207c54cd9b19ae">getName</a> () const</td></tr>
<tr class="separator:ac4c4e9952e4113901f207c54cd9b19ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fab04fe3de5f3659bcbc0f353231211"><td class="memItemLeft" align="right" valign="top">boost::asio::io_service &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsioServiceManager.html#a4fab04fe3de5f3659bcbc0f353231211">getBaseService</a> () const</td></tr>
<tr class="separator:a4fab04fe3de5f3659bcbc0f353231211"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a5157fb24b5f34ff713097b93785c0cc4"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr&lt; <a class="el" href="classAsioServiceManager.html">AsioServiceManager</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsioServiceManager.html#a5157fb24b5f34ff713097b93785c0cc4">getServicePointer</a> (const std::string &amp;serviceName=std::string())</td></tr>
<tr class="separator:a5157fb24b5f34ff713097b93785c0cc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f6a63b10410eab8dd008ae54bb1c017"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr&lt; <a class="el" href="classAsioServiceManager.html">AsioServiceManager</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsioServiceManager.html#a7f6a63b10410eab8dd008ae54bb1c017">getExistingServicePointer</a> (const std::string &amp;serviceName=std::string())</td></tr>
<tr class="separator:a7f6a63b10410eab8dd008ae54bb1c017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa0b59ee7ea496ed5135743507875b14"><td class="memItemLeft" align="right" valign="top">static boost::asio::io_service &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsioServiceManager.html#afa0b59ee7ea496ed5135743507875b14">getService</a> (const std::string &amp;serviceName=std::string())</td></tr>
<tr class="separator:afa0b59ee7ea496ed5135743507875b14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0d3e41918a8ad7ff9e2efbe4d166e1d"><td class="memItemLeft" align="right" valign="top">static boost::asio::io_service &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsioServiceManager.html#ab0d3e41918a8ad7ff9e2efbe4d166e1d">getExistingService</a> (const std::string &amp;serviceName=std::string())</td></tr>
<tr class="separator:ab0d3e41918a8ad7ff9e2efbe4d166e1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21d5cd66863701e5f06c36ebe5feb515"><td class="memItemLeft" align="right" valign="top"><a id="a21d5cd66863701e5f06c36ebe5feb515"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>closeService</b> (const std::string &amp;serviceName=std::string())</td></tr>
<tr class="separator:a21d5cd66863701e5f06c36ebe5feb515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2b8b468549364f5e938d14f18c87832"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsioServiceManager.html#ad2b8b468549364f5e938d14f18c87832">setServiceToLeakOnDelete</a> (const std::string &amp;serviceName=std::string())</td></tr>
<tr class="separator:ad2b8b468549364f5e938d14f18c87832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61d564b5d6bb99f59a76d727dd76c5b2"><td class="memItemLeft" align="right" valign="top">static LoopHandle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsioServiceManager.html#a61d564b5d6bb99f59a76d727dd76c5b2">runServiceLoop</a> (const std::string &amp;serviceName=std::string())</td></tr>
<tr class="separator:a61d564b5d6bb99f59a76d727dd76c5b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a13287cc101b1760f1ecbc726a99efb40"><td class="memItemLeft" align="right" valign="top"><a id="a13287cc101b1760f1ecbc726a99efb40"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>serviceProcessingLoop</b> (std::shared_ptr&lt; <a class="el" href="classAsioServiceManager.html">AsioServiceManager</a> &gt; ptr)</td></tr>
<tr class="separator:a13287cc101b1760f1ecbc726a99efb40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>class defining a (potential) singleton ASIO io_service manager for all boost::asio usage </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a4fab04fe3de5f3659bcbc0f353231211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fab04fe3de5f3659bcbc0f353231211">&#9670;&nbsp;</a></span>getBaseService()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::asio::io_service&amp; AsioServiceManager::getBaseService </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>get the underlying boost::io_service reference </p>

</div>
</div>
<a id="ab0d3e41918a8ad7ff9e2efbe4d166e1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0d3e41918a8ad7ff9e2efbe4d166e1d">&#9670;&nbsp;</a></span>getExistingService()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::asio::io_service &amp; AsioServiceManager::getExistingService </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>serviceName</em> = <code>std::string()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>get the boost io_service associated with the service manager but only if the service exists if it doesn't this will throw and invalid_argument exception </p>

<p class="reference">References <a class="el" href="classAsioServiceManager.html#a7f6a63b10410eab8dd008ae54bb1c017">getExistingServicePointer()</a>.</p>

</div>
</div>
<a id="a7f6a63b10410eab8dd008ae54bb1c017"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f6a63b10410eab8dd008ae54bb1c017">&#9670;&nbsp;</a></span>getExistingServicePointer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classAsioServiceManager.html">AsioServiceManager</a> &gt; AsioServiceManager::getExistingServicePointer </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>serviceName</em> = <code>std::string()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>return a pointer to a service manager</p>
<p>the function will search for an existing service manager for the name if it doesn't find one it will return nullptr </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">serviceName</td><td>the name of the service to find </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="classAsioServiceManager.html#ab0d3e41918a8ad7ff9e2efbe4d166e1d">getExistingService()</a>.</p>

</div>
</div>
<a id="ac4c4e9952e4113901f207c54cd9b19ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4c4e9952e4113901f207c54cd9b19ae">&#9670;&nbsp;</a></span>getName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string&amp; AsioServiceManager::getName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>get the name of the current service manager </p>

</div>
</div>
<a id="afa0b59ee7ea496ed5135743507875b14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa0b59ee7ea496ed5135743507875b14">&#9670;&nbsp;</a></span>getService()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::asio::io_service &amp; AsioServiceManager::getService </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>serviceName</em> = <code>std::string()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>get the boost io_service associated with the service manager </p>

<p class="reference">References <a class="el" href="classAsioServiceManager.html#a5157fb24b5f34ff713097b93785c0cc4">getServicePointer()</a>.</p>

</div>
</div>
<a id="a5157fb24b5f34ff713097b93785c0cc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5157fb24b5f34ff713097b93785c0cc4">&#9670;&nbsp;</a></span>getServicePointer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classAsioServiceManager.html">AsioServiceManager</a> &gt; AsioServiceManager::getServicePointer </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>serviceName</em> = <code>std::string()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>return a pointer to a service manager</p>
<p>the function will search for an existing service manager for the name if it doesn't find one it will create a new one </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">serviceName</td><td>the name of the service to find or create </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="classAsioServiceManager.html#afa0b59ee7ea496ed5135743507875b14">getService()</a>.</p>

</div>
</div>
<a id="a61d564b5d6bb99f59a76d727dd76c5b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61d564b5d6bb99f59a76d727dd76c5b2">&#9670;&nbsp;</a></span>runServiceLoop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AsioServiceManager::LoopHandle AsioServiceManager::runServiceLoop </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>serviceName</em> = <code>std::string()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>run a single thread for the service manager to execute asynchronous services in</p>
<p>will run a single thread for the io_service, it will not stop the thread until either the service manager is closed or the haltServiceLoop function is called and there is no more work </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in</td><td>the name of the service </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad2b8b468549364f5e938d14f18c87832"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2b8b468549364f5e938d14f18c87832">&#9670;&nbsp;</a></span>setServiceToLeakOnDelete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AsioServiceManager::setServiceToLeakOnDelete </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>serviceName</em> = <code>std::string()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>tell the service to free the pointer and leak the memory on delete</p>
<p>You may ask why, well in windows systems when operating in a DLL if this context is closed after certain other operations that happen when the DLL is unlinked bad things can happen, and since in nearly all cases this happens at Shutdown leaking really doesn't matter that much and if you don't the service could terminate before some other parts of the program which cause all sorts of odd errors and issues </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="AsioServiceManager_8h_source.html">AsioServiceManager.h</a></li>
<li>AsioServiceManager.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
