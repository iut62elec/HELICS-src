<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>helics: Windows Installation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_doxygen_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="HELICS_48x48.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">helics
   &#160;<span id="projectnumber">1.0.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Windows Installation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Requirements</h2>
<ul>
<li>Microsoft Visual C++ 2015 or newer (MS Build Tools also works)</li>
<li>CMake 3.4 or newer</li>
<li>git</li>
<li>Boost 1.58 or newer</li>
<li>ZeroMQ 4.2.0 or newer (if ZeroMQ support is needed)</li>
<li>MS-MPI v8 or newer (if MPI support is needed)</li>
</ul>
<h2>Setup</h2>
<p>To set up your environment:</p>
<ol type="1">
<li>Install Microsoft Visual C++ 2015 or newer</li>
<li>Install <a href="http://www.boost.org/doc/libs/1_64_0/more/getting_started/windows.html">Boost</a> <a href="https://dl.bintray.com/boostorg/release/1.66.0/binaries/">Windows downloads</a> 1.61 or later recommended (core library should build with 1.58, but tests will not). For CMake to detect it automatically either extract Boost to the root of your drive, or set the BOOST_INSTALL_PATH environment variable to the install location. The cmake will only automatically find boost 1.61 or newer. Building with Visual Studio 2017 will require boost 1.65.1 or newer and cmake 3.9 or newer. Use 14.0 versions for Visual Studio 2015, 14.1 files for Visual studio 2017. Boost 1.66 with cmake 3.11 is the current recommended configuration.</li>
<li><em>Optional</em> Install <a href="http://zeromq.org/build:_start">ZeroMQ</a> if you need ZeroMQ support and need a copy in a global system location. We recommend skipping this step and running cmake with the <code>AUTOBUILD_ZMQ=ON</code> option to automatically set up a project-only copy of ZeroMQ later on. The ZeroMQ Windows installer is <b>very</b> outdated and will not work with new versions of Visual Studio.</li>
<li><em>Optional</em> Install <a href="https://msdn.microsoft.com/en-us/library/bb524831(v=vs.85).aspx">MS-MPI</a> if you need MPI support.</li>
<li><em>Optional</em> Install <a href="http://www.swig.org/download.html">SWIG</a> if you wish to generate the interface libraries, appropriate build files are included in the repository so it shouldn't be necessary to regenerate unless the libraries are modified</li>
<li>Open a Visual Studio Command Prompt, and go to your working directory.</li>
<li>Make sure <em>cmake</em> and <em>git</em> are available in the Command Prompt. If they aren't, add them to the system PATH variable.</li>
</ol>
<p>Getting and building from source:</p>
<ol type="1">
<li>Set up your environment.</li>
<li>Open a command prompt. Use git clone to check out a copy of HELICS.</li>
</ol>
<div class="fragment"><div class="line">git clone https://github.com/GMLC-TDC/HELICS-src.git</div></div><!-- fragment --><ol type="1">
<li>Go to the checkedout HELICS project folder (the default folder name is HELICS-src). Create a build folder and open the build folder. Alternatively, cmake-gui can be used.</li>
</ol>
<div class="fragment"><div class="line">cd HELICS-src</div><div class="line">mkdir build</div><div class="line">cd build</div></div><!-- fragment --><ol type="1">
<li>Run cmake. It should automatically detect where MPI is installed if the system path variables are set up correctly, otherwise you will have to set the cmake path manually. The AUTOBUILD_ZMQ is set to ON so ZeroMQ will automatically be built unless the option is changed.</li>
</ol>
<div class="fragment"><div class="line">cmake ..</div></div><!-- fragment --><p>If you need cmake to use a generator other than the default (ex: selecting between a 32-bit or 64-bit project), the -G option can be used to specify one of the generators listed by cmake &ndash;help. For Visual Studio 2017, the generator name would be <code>Visual Studio 15 2017 [arch]</code>, where [arch] is optional and can be either Win64 for a 64-bit project, or left out to generate a 32-bit project. To avoid problems when building later, this should match the version of the Boost libraries you are using.</p>
<p>If you installed boost into the root of the C or D drives with the default localtion (or the BOOST_INSTALL_PATH environment variable has been set), cmake should automatically detect their location. Otherwise the location will need to be manually given to cmake.</p>
<ol type="1">
<li>Open the Visual Studio solution generated by CMake. Under the <em>Build</em> menu, select <em>Build the Solution</em>. Alternatively, in the MSBuild command prompt, run the command msbuild HELICS.sln from the build folder to compile the entire solution. HELICS.sln can be replaced with the name of one of the projects to build only that part of HELICS.</li>
</ol>
<h2>Windows Installers</h2>
<p>Windows installers are available with the different <a href="https://github.com/GMLC-TDC/HELICS-src/releases">releases</a>. The release includes installers for the Debug version and Release version. As well as a zip file of the install directory. The static libraries included with the installer will work with Visual Studio 2017. <br />
 </p><h2>Testing</h2>
<p>A quick test is to double check the versions of the HELICS player and recorder (located in the 'build' folder):</p>
<div class="fragment"><div class="line">&gt; cd C:\Path\To\build\src\helics\apps\Debug</div><div class="line"></div><div class="line">&gt; helics_player.exe --version</div><div class="line">1.0.2 04-28-2018</div><div class="line"></div><div class="line">&gt; helics_recorder.exe --version</div><div class="line">1.0.2 04-28-2018</div></div><!-- fragment --><h2>Building HELICS with python support</h2>
<p>Setting <code>-DBUILD_PYTHON_INTERFACE=ON</code> will generate a project to build the python interface, if python is installed to a system path then the appropriate libraries and flags will be automatically found. If SWIG is available and you wish to regenerate the interface set SWIG_EXECUTABLE to the location of swig.exe. Otherwise DISABLE_SWIG can be set to ON to build using repo sources for the interface. We highly recommend using Anaconda3/Miniconda3 for the Python distribution. Additionally, you will need to ensure that the Python distribution used is built using the same compiler architecture (x86/x64) as the one you are using to build HELICS, as well as the one that was used to build Boost (as mentioned above). ZeroMQ will be built using the CMake build process.</p>
<div class="image">
<img src="../img/windows-command-line-install.png"/>
</div>
<div class="fragment"><div class="line">cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=&quot;C:\local\helics-v1.0.0&quot;  -DBUILD_PYTHON_INTERFACE=ON -G &quot;Visual Studio 14 2015 Win64&quot; ..</div><div class="line">cmake --build . --config Release --target install</div></div><!-- fragment --><p> otherwise they can be set through CMAKE flags </p><div class="fragment"><div class="line">cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=&quot;C:\local\helics-v1.0.0&quot;  -DBUILD_PYTHON_INTERFACE=ON -G &quot;Visual Studio 14 2015 Win64&quot; -DPYTHON_INCLUDE_DIR=$(python3-config --prefix)\include\python3.6m\ -DPYTHON_LIBRARY=$(python3-config --prefix)\lib\python3.6m\libpython3.6m.dll ..</div><div class="line">cmake --build . --config Release --target install</div></div><!-- fragment --><div class="image">
<img src="../img/windows-command-line-success.png"/>
</div>
<p>Add the following to the Windows PYTHONPATH environment variable or run the following in the command line.</p>
<div class="fragment"><div class="line">set PYTHONPATH=C:\local\helics-v1.0.2\python;%PYTHONPATH%</div></div><!-- fragment --><p>If you open a interactive Python session and import helics, you should be able to get the version of <code>helics</code> and an output that is similar to the following.</p>
<div class="fragment"><div class="line">$ ipython</div><div class="line">Python 3.6.4 |Anaconda, Inc.| (default, Jan 16 2018, 12:04:33)</div><div class="line">Type &#39;copyright&#39;, &#39;credits&#39; or &#39;license&#39; for more information</div><div class="line">IPython 6.2.1 -- An enhanced Interactive Python. Type &#39;?&#39; for help.</div><div class="line"></div><div class="line">In [1]: import helics</div><div class="line"></div><div class="line">In [2]: helics.helicsGetVersion()</div><div class="line">Out[2]: &#39;1.0.2 (04-28-18)&#39;</div></div><!-- fragment --><div class="image">
<img src="../img/windows-python-success.png"/>
</div>
 </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
